<script type="text/javascript" src="main_js/lib/jquery.js"></script>
<script type='text/javascript' src='main_js/lib/jquery.bgiframe.min.js'></script>
<script type='text/javascript' src='main_js/lib/jquery.ajaxQueue.js'></script>
<script type='text/javascript' src='main_js/lib/thickbox-compressed.js'></script>
<script type='text/javascript' src='main_js/jquery.autocomplete.js'></script>
<script type='text/javascript' src='main_js/localdata.js'></script>
<script type="text/javascript">
var $aunc = jQuery.noConflict();
 	$aunc().ready(function() {
		//$('#target').focus(function() {
	

	
	
	function formatItem(row) {
		return row[0] + " (<strong>id: " + row[1] + "</strong>)";
	}
	function formatResult(row) {
		return row[0].replace(/(<.+?>)/gi, '');
	}
	
	$aunc("#suggest1").focus().autocomplete(cities);
		$aunc("#suggest2").focus().autocomplete(cities);
	$aunc("#month").autocomplete(months, {
		minChars: 0,
		max: 12,
		autoFill: true,
		mustMatch: true,
		matchContains: false,
		scrollHeight: 220,
		formatItem: function(data, i, total) {
			// don't show the current month in the list of values (for whatever reason)
			if ( data[0] == months[new Date().getMonth()] ) 
				return false;
			return data[0];
		}
	});
	$aunc("#suggest13").autocomplete(emails, {
		minChars: 0,
		width: 310,
		matchContains: "word",
		autoFill: false,
		formatItem: function(row, i, max) {
			return i + "/" + max + ": \"" + row.name + "\" [" + row.to + "]";
		},
		formatMatch: function(row, i, max) {
			return row.name + " " + row.to;
		},
		formatResult: function(row) {
			return row.to;
		}
	});
	$aunc('.kareena').focus(function() {
		//-----------------------
		
		//--------------------------
		
		$myID = $aunc(this).attr('id');
		//alert($myID);
		
		$aunc(this).attr('id','singleBirdRemote');
		
		
	$aunc("#singleBirdRemote").autocomplete("search.php", {
		width: 400,
		selectFirst: false
		
		}); 
		
	}).blur(function(){
	//$("#singleBirdRemote").blur()(function() {
		//$aunc("#singleBirdRemote").blur(function(){
		$aunc(this).attr('id',$myID);
		
		
	});
	//----------------------------------------
	$(".kareena").live("focus", function(){
		//-----------------------
		
		//--------------------------
		
		$myID = $aunc(this).attr('id');
		
		
		
		$aunc(this).attr('id','singleBirdRemote');
		
		
	$aunc("#singleBirdRemote").autocomplete("search.php", {
		width: 400,
		selectFirst: false
		
		}); 
		
		$aunc(this).attr('id',$myID);
	//}).blur(function(){
		})/*.live("blur",function(){
	//$("#singleBirdRemote").blur()(function() {
		//$aunc("#singleBirdRemote").blur(function(){
			
		$aunc(this).attr('id',$myID);
		
		
	});*/
	//-----------AutoFill For Tender number---------------------------/////
	$aunc('.TenderAuto').focus(function() {
		//-----------------------
		
		//--------------------------
		
		var pID = $aunc('#tender_purchaser').attr('value');
		
		
		//alert($myID);
		
		//$aunc(this).attr('id','singleBirdRemoteX');
		
		
	//$aunc("#tender_number").autocomplete("searchTenderNumber.php","pID="+pID, {
		$aunc("#tender_number").autocomplete("searchTenderNumber.php",          {
		data : 'pID='+pID,	
		width: 400,
		selectFirst: false
		
		}); 
		
		
	})
	//----------------------------------------
	$aunc("#suggest14").autocomplete(cities, {
		matchContains: true,
		minChars: 0
	});
	$aunc("#suggest3").autocomplete(cities, {
		multiple: true,
		mustMatch: true,
		autoFill: true
	});
	$aunc("#suggest4").autocomplete('search.php', {
		width: 300,
		multiple: true,
		matchContains: true,
		formatItem: formatItem,
		formatResult: formatResult
	});
	$aunc("#imageSearch").autocomplete("images.php", {
		width: 320,
		max: 4,
		highlight: false,
		scroll: true,
		scrollHeight: 300,
		formatItem: function(data, i, n, value) {
			return "<img src='images/" + value + "'/> " + value.split(".")[0];
		},
		formatResult: function(data, value) {
			return value.split(".")[0];
		}
	});
	$aunc("#tags").autocomplete(["c++", "java", "php", "coldfusion", "javascript", "asp", "ruby", "python", "c", "scala", "groovy", "haskell", "pearl"], {
		width: 320,
		max: 4,
		highlight: false,
		multiple: true,
		multipleSeparator: " ",
		scroll: true,
		scrollHeight: 300
	});
	
	
	$aunc(":text, textarea").result(log).next().click(function() {
		$aunc(this).prev().search();
	});
	$aunc("#singleBirdRemote").result(function(event, data, formatted) {
		if (data)
			$aunc(this).parent().next().find("input").val(data[1]);
	});

	$aunc("#suggest4").result(function(event, data, formatted) {
		var hidden = $aunc(this).parent().next().find(">:input");
		hidden.val( (hidden.val() ? hidden.val() + ";" : hidden.val()) + data[1]);
	});
	
    $aunc("#suggest15").autocomplete(cities, { scroll: true } );
	$aunc("#scrollChange").click(changeScrollHeight);
	
	$aunc("#thickboxEmail").autocomplete(emails, {
		minChars: 0,
		width: 310,
		matchContains: true,
		highlightItem: false,
		formatItem: function(row, i, max, term) {
			return row.name.replace(new RegExp("(" + term + ")", "gi"), "<strong>$aunc1</strong>") + "<br><span style='font-size: 80%;'>Email: &lt;" + row.to + "&gt;</span>";
		},
		formatResult: function(row) {
			return row.to;
		}
	});
	
	$aunc("#clear").click(function() {
		$aunc(":input").unautocomplete();
	});
});

function changeOptions(){
	var max = parseInt(window.prompt('Please type number of items to display:', jQuery.Autocompleter.defaults.max));
	if (max > 0) {
		$aunc("#suggest1").setOptions({
			max: max
		});
	}
}

function changeScrollHeight() {
    var h = parseInt(window.prompt('Please type new scroll height (number in pixels):', jQuery.Autocompleter.defaults.scrollHeight));
    if(h > 0) {
        $aunc("#suggest1").setOptions({
			scrollHeight: h
		});
    }
}

function changeToMonths(){
	$aunc("#suggest1")
		// clear existing data
		.val("")
		// change the local data to months
		.setOptions({data: months})
		// get the label tag
		.prev()
		// update the label tag
		.text("Month (local):");
}
</script>
<link rel="stylesheet" type="text/css" href="main_css/jquery.autocomplete.css" />